


    <title>Zooming into a Query &mdash; Percona Monitoring and Management Documentation</title>
    
  <head>
    
    
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Percona Monitoring and Management Documentation" href="index.html" />
    <link rel="next" title="Filtering Queries" href="qan.filtering.html" />
    <link rel="prev" title="Opening QAN from the PMM Home Page" href="qan.navigation.html" /> 
  </head>
  <body>
    <div class="container">  

    <div class="document row">
      <div class="documentwrapper col-md-9 col-md-push-3">
    <div class="related row">
      
      <ul class="nav nav-pills">
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="qan.filtering.html" title="Filtering Queries"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="qan.navigation.html" title="Opening QAN from the PMM Home Page"
             accesskey="P">previous</a></li>
        <li><a href="index.html">Percona Monitoring and Management Documentation</a></li> 
      </ul>
    </div>
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="zooming-into-a-query">
<span id="pmm-qan-query-zooming"></span><h1><a class="reference internal" href="#pmm-qan-query-zooming"><span class="std std-ref">Zooming into a Query</span></a><a class="headerlink" href="#zooming-into-a-query" title="Permalink to this headline">¶</a></h1>
<p>Click one of the queries to zoom it in. QAN displays detailed information about
the query in the <a class="reference internal" href="glossary.terminology.html#query-metrics-summary-table"><span class="std std-ref">query metrics summary table</span></a> below the <a class="reference internal" href="glossary.terminology.html#query-summary-table"><span class="std std-ref">query
summary table</span></a>. The detailed information includes the query type specific
metrics. It also contains details about the database and tables which are used
in the query.</p>
<div class="figure" id="id1">
<img alt="_images/qan.query-metrics.1.png" src="_images/qan.query-metrics.1.png" />
<p class="caption"><span class="caption-text">Select a query from the query summary table to open its metrics.</span></p>
</div>
<div class="section" id="query-section">
<span id="pmm-qan-query-selecting"></span><h2><a class="reference internal" href="#pmm-qan-query-selecting"><span class="std std-ref">Query Section</span></a><a class="headerlink" href="#query-section" title="Permalink to this headline">¶</a></h2>
<p>In addition to the metrics in the <a class="reference internal" href="glossary.terminology.html#query-metrics-summary-table"><span class="std std-ref">query metrics summary table</span></a>,
<strong class="program">QAN</strong> displays more information about the query itself. The <code class="docutils literal"><span class="pre">Query</span></code>
section contains the <a class="reference internal" href="glossary.terminology.html#query-fingerprint"><span class="std std-ref">fingerprint</span></a> and an example of
the query.</p>
<div class="figure" id="id2">
<img alt="_images/qan.query.1.png" src="_images/qan.query.1.png" />
<p class="caption"><span class="caption-text">The Query section shows the SQL statement for the selected query.</span></p>
</div>
</div>
<div class="section" id="explain-section">
<span id="pmm-qan-explain-section"></span><h2><a class="reference internal" href="#pmm-qan-explain-section"><span class="std std-ref">Explain Section</span></a><a class="headerlink" href="#explain-section" title="Permalink to this headline">¶</a></h2>
<p>The <span class="guilabel">Explain</span> section enables you to run <strong class="command">EXPLAIN</strong> on the selected query
directly from the PMM web interface (simply specify the database).</p>
<img alt="_images/qan-realtime-explain.png" src="_images/qan-realtime-explain.png" />
<p>The output appears in three forms: classic, JSON and visual. The classic form
presents the attributes of the <strong class="command">EXPLAIN</strong> command as columns of a table. The
JSON format presents the output of <strong class="command">EXPLAIN</strong> as a JSON document. To help
you better understand how the query has been optimized, the visual form shows
how the query accesses the tables it includes. The output of the visual form is
identical to that of <strong class="program">pt-visual-explain</strong>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <span class="guilabel">Copy to clipboard</span> button available in Explain, Fingerprint,
Example, and Tables sections is useful to save the output and pass it to
external tools, such as <strong class="program">pt-visual-explain</strong>.</p>
</div>
<div class="figure" id="id3">
<img alt="_images/qan.explain.1.png" src="_images/qan.explain.1.png" />
<p class="caption"><span class="caption-text">The three output formats of the <strong class="command">EXPLAIN</strong> command.</span></p>
</div>
<p>Note that the <strong class="command">EXPLAIN</strong> command only works with the following statements:</p>
<ul class="simple">
<li><strong class="command">SELECT</strong></li>
<li><strong class="command">DELETE</strong></li>
<li><strong class="command">INSERT</strong></li>
<li><strong class="command">REPLACE</strong></li>
<li><strong class="command">UPDATE</strong></li>
</ul>
<p>If you are viewing the details of a query of another type, the
<span class="guilabel">Explain</span> section will not contain any data.</p>
<div class="admonition-related-information admonition">
<p class="first admonition-title">Related information</p>
<dl class="last docutils">
<dt><strong class="program">pt-visual-explain</strong>: a tool to show the query plan based on the output of the <strong class="command">EXPLAIN</strong> command</dt>
<dd><a class="reference external" href="https://www.percona.com/doc/percona-toolkit/LATEST/pt-visual-explain.html">https://www.percona.com/doc/percona-toolkit/LATEST/pt-visual-explain.html</a></dd>
</dl>
</div>
</div>
<div class="section" id="table-info-section">
<span id="pmm-qan-table-info-section"></span><h2><a class="reference internal" href="#pmm-qan-table-info-section"><span class="std std-ref">Table Info Section</span></a><a class="headerlink" href="#table-info-section" title="Permalink to this headline">¶</a></h2>
<p>At the bottom, you can run Table Info for the selected query.  This
enables you to get <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">CREATE</span> <span class="pre">TABLE</span></code>, <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">INDEX</span></code>, and <code class="docutils literal"><span class="pre">SHOW</span>
<span class="pre">TABLE</span> <span class="pre">STATUS</span></code> for each table used by the query directly from the PMM
web interface.</p>
<img alt="_images/qan-create-table.png" src="_images/qan-create-table.png" />
</div>
</div>


          </div>
        </div>
    <div class="related row">
      
      <ul class="nav nav-pills">
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="qan.filtering.html" title="Filtering Queries"
             >next</a></li>
        <li class="right" >
          <a href="qan.navigation.html" title="Opening QAN from the PMM Home Page"
             >previous</a></li>
        <li><a href="index.html">Percona Monitoring and Management Documentation</a></li> 
      </ul>
    </div>
      </div>
      <div class="sphinxsidebar  col-md-3 col-md-pull-9">
        <div class="sphinxsidebarwrapper">
  
          {@ product_logo @}          

          {@ product_pdf_download @}
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="docutils literal"><span class="pre">Zooming</span> <span class="pre">into</span> <span class="pre">a</span> <span class="pre">Query</span></code></a><ul>
<li><a class="reference internal" href="#query-section"><code class="docutils literal"><span class="pre">Query</span> <span class="pre">Section</span></code></a></li>
<li><a class="reference internal" href="#explain-section"><code class="docutils literal"><span class="pre">Explain</span> <span class="pre">Section</span></code></a></li>
<li><a class="reference internal" href="#table-info-section"><code class="docutils literal"><span class="pre">Table</span> <span class="pre">Info</span> <span class="pre">Section</span></code></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="qan.navigation.html"
                        title="previous chapter"><code class="docutils literal"><span class="pre">Opening</span> <span class="pre">QAN</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">PMM</span> <span class="pre">Home</span> <span class="pre">Page</span></code></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="qan.filtering.html"
                        title="next chapter"><code class="docutils literal"><span class="pre">Filtering</span> <span class="pre">Queries</span></code></a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">jQuery(document).ready(function(){ jQuery('#searchbox').show(0); });</script>
          {@ product_series @}
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <!-- div class="footer">
        &copy; Copyright Percona LLC and/or its affiliates 2009-2019.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.
    </div -->
  </div>
  </body>
