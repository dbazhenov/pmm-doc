


    <title>MongoDB ReplSet &mdash; Percona Monitoring and Management Documentation</title>
    
  <head>
    
    
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Percona Monitoring and Management Documentation" href="../index.html" />
    <link rel="up" title="Metrics Monitor Dashboards" href="../index.metrics-monitor.dashboard.html" />
    <link rel="next" title="MongoDB RocksDB Daskboard" href="dashboard.mongodb-rocksdb.html" />
    <link rel="prev" title="MongoDB Overview" href="dashboard.mongodb-overview.html" /> 
  </head>
  <body>
    <div class="container">  

    <div class="document row">
      <div class="documentwrapper col-md-9 col-md-push-3">
    <div class="related row">
      
      <ul class="nav nav-pills">
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="dashboard.mongodb-rocksdb.html" title="MongoDB RocksDB Daskboard"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="dashboard.mongodb-overview.html" title="MongoDB Overview"
             accesskey="P">previous</a></li>
        <li><a href="../index.html">Percona Monitoring and Management Documentation</a></li>
          <li><a href="../index.metrics-monitor.dashboard.html" accesskey="U">Metrics Monitor Dashboards</a></li> 
      </ul>
    </div>
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="mongodb-replset">
<span id="dashboard-mongodb-replset"></span><h1>MongoDB ReplSet<a class="headerlink" href="#mongodb-replset" title="Permalink to this headline">¶</a></h1>
<p>This dashboard provides information about replica sets and their members.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#replication-operations" id="id1"><a class="reference internal" href="#dashboard-mongodb-replset-replication-operations"><span class="std std-ref">Replication Operations</span></a></a></li>
<li><a class="reference internal" href="#replset-state" id="id2"><a class="reference internal" href="#dashboard-mongodb-replset-replset-state"><span class="std std-ref">ReplSet State</span></a></a></li>
<li><a class="reference internal" href="#replset-members" id="id3"><a class="reference internal" href="#dashboard-mongodb-replset-replset-members"><span class="std std-ref">ReplSet Members</span></a></a></li>
<li><a class="reference internal" href="#replset-last-election" id="id4"><a class="reference internal" href="#dashboard-mongodb-replset-replset-last-election"><span class="std std-ref">ReplSet Last Election</span></a></a></li>
<li><a class="reference internal" href="#replset-lag" id="id5"><a class="reference internal" href="#dashboard-mongodb-replset-replset-lag"><span class="std std-ref">ReplSet Lag</span></a></a></li>
<li><a class="reference internal" href="#storage-engine" id="id6"><a class="reference internal" href="#dashboard-mongodb-replset-storage-engine"><span class="std std-ref">Storage Engine</span></a></a></li>
<li><a class="reference internal" href="#oplog-insert-time" id="id7"><a class="reference internal" href="#dashboard-mongodb-replset-oplog-insert-time"><span class="std std-ref">Oplog Insert Time</span></a></a></li>
<li><a class="reference internal" href="#oplog-recovery-window" id="id8"><a class="reference internal" href="#dashboard-mongodb-replset-oplog-recovery-window"><span class="std std-ref">Oplog Recovery Window</span></a></a></li>
<li><a class="reference internal" href="#replication-lag" id="id9"><a class="reference internal" href="#dashboard-mongodb-replset-replication-lag"><span class="std std-ref">Replication Lag</span></a></a></li>
<li><a class="reference internal" href="#elections" id="id10"><a class="reference internal" href="#dashboard-mongodb-replset-elections"><span class="std std-ref">Elections</span></a></a></li>
<li><a class="reference internal" href="#member-state-uptime" id="id11"><a class="reference internal" href="#dashboard-mongodb-replset-member-state-uptime"><span class="std std-ref">Member State Uptime</span></a></a></li>
<li><a class="reference internal" href="#max-heartbeat-time" id="id12"><a class="reference internal" href="#dashboard-mongodb-replset-max-heartbeat-time"><span class="std std-ref">Max Heartbeat Time</span></a></a></li>
<li><a class="reference internal" href="#max-member-ping-time" id="id13"><a class="reference internal" href="#dashboard-mongodb-replset-max-member-ping-time"><span class="std std-ref">Max Member Ping Time</span></a></a></li>
</ul>
</div>
<div class="section" id="replication-operations">
<span id="dashboard-mongodb-replset-replication-operations"></span><h2><a class="toc-backref" href="#id1"><a class="reference internal" href="#dashboard-mongodb-replset-replication-operations"><span class="std std-ref">Replication Operations</span></a></a><a class="headerlink" href="#replication-operations" title="Permalink to this headline">¶</a></h2>
<p>This metric provides an overview of database replication operations by type and
makes it possible to analyze the load on the replica in more granular
manner. These values only appear when the current host has replication enabled.</p>
</div>
<div class="section" id="replset-state">
<span id="dashboard-mongodb-replset-replset-state"></span><h2><a class="toc-backref" href="#id2"><a class="reference internal" href="#dashboard-mongodb-replset-replset-state"><span class="std std-ref">ReplSet State</span></a></a><a class="headerlink" href="#replset-state" title="Permalink to this headline">¶</a></h2>
<p>This metric shows the role of the selected member instance (PRIMARY or SECONDARY).</p>
<p><strong>View all metrics of</strong> <a class="reference internal" href="#dashboard-mongodb-replset"><span class="std std-ref">MongoDB ReplSet</span></a></p>
</div>
<div class="section" id="replset-members">
<span id="dashboard-mongodb-replset-replset-members"></span><h2><a class="toc-backref" href="#id3"><a class="reference internal" href="#dashboard-mongodb-replset-replset-members"><span class="std std-ref">ReplSet Members</span></a></a><a class="headerlink" href="#replset-members" title="Permalink to this headline">¶</a></h2>
<p>This metric the number of members in the replica set.</p>
<p><strong>View all metrics of</strong> <a class="reference internal" href="#dashboard-mongodb-replset"><span class="std std-ref">MongoDB ReplSet</span></a></p>
</div>
<div class="section" id="replset-last-election">
<span id="dashboard-mongodb-replset-replset-last-election"></span><h2><a class="toc-backref" href="#id4"><a class="reference internal" href="#dashboard-mongodb-replset-replset-last-election"><span class="std std-ref">ReplSet Last Election</span></a></a><a class="headerlink" href="#replset-last-election" title="Permalink to this headline">¶</a></h2>
<p>This metric how long ago the last election occurred.</p>
<p><strong>View all metrics of</strong> <a class="reference internal" href="#dashboard-mongodb-replset"><span class="std std-ref">MongoDB ReplSet</span></a></p>
</div>
<div class="section" id="replset-lag">
<span id="dashboard-mongodb-replset-replset-lag"></span><h2><a class="toc-backref" href="#id5"><a class="reference internal" href="#dashboard-mongodb-replset-replset-lag"><span class="std std-ref">ReplSet Lag</span></a></a><a class="headerlink" href="#replset-lag" title="Permalink to this headline">¶</a></h2>
<p>This metric shows the current replication lag for the selected member.</p>
<p><strong>View all metrics of</strong> <a class="reference internal" href="#dashboard-mongodb-replset"><span class="std std-ref">MongoDB ReplSet</span></a></p>
</div>
<div class="section" id="storage-engine">
<span id="dashboard-mongodb-replset-storage-engine"></span><h2><a class="toc-backref" href="#id6"><a class="reference internal" href="#dashboard-mongodb-replset-storage-engine"><span class="std std-ref">Storage Engine</span></a></a><a class="headerlink" href="#storage-engine" title="Permalink to this headline">¶</a></h2>
<p>This metric shows the storage engine used on the instance</p>
<p><strong>View all metrics of</strong> <a class="reference internal" href="#dashboard-mongodb-replset"><span class="std std-ref">MongoDB ReplSet</span></a></p>
</div>
<div class="section" id="oplog-insert-time">
<span id="dashboard-mongodb-replset-oplog-insert-time"></span><h2><a class="toc-backref" href="#id7"><a class="reference internal" href="#dashboard-mongodb-replset-oplog-insert-time"><span class="std std-ref">Oplog Insert Time</span></a></a><a class="headerlink" href="#oplog-insert-time" title="Permalink to this headline">¶</a></h2>
<p>This metric shows how long it takes to write to the oplog. Without it the write
will not be successful.</p>
<p>This is more useful in mixed replica sets (where instances run different storage
engines).</p>
<p><strong>View all metrics of</strong> <a class="reference internal" href="#dashboard-mongodb-replset"><span class="std std-ref">MongoDB ReplSet</span></a></p>
</div>
<div class="section" id="oplog-recovery-window">
<span id="dashboard-mongodb-replset-oplog-recovery-window"></span><h2><a class="toc-backref" href="#id8"><a class="reference internal" href="#dashboard-mongodb-replset-oplog-recovery-window"><span class="std std-ref">Oplog Recovery Window</span></a></a><a class="headerlink" href="#oplog-recovery-window" title="Permalink to this headline">¶</a></h2>
<p>This metric shows the time range in the oplog and the oldest backed up
operation.</p>
<p>For example, if you take backups every 24 hours, each one should contain at
least 36 hours of backed up operations, giving you 12 hours of restore window.</p>
<p><strong>View all metrics of</strong> <a class="reference internal" href="#dashboard-mongodb-replset"><span class="std std-ref">MongoDB ReplSet</span></a></p>
</div>
<div class="section" id="replication-lag">
<span id="dashboard-mongodb-replset-replication-lag"></span><h2><a class="toc-backref" href="#id9"><a class="reference internal" href="#dashboard-mongodb-replset-replication-lag"><span class="std std-ref">Replication Lag</span></a></a><a class="headerlink" href="#replication-lag" title="Permalink to this headline">¶</a></h2>
<p>This metric shows the delay between an operation occurring on the primary and
that same operation getting applied on the selected member</p>
<p><strong>View all metrics of</strong> <a class="reference internal" href="#dashboard-mongodb-replset"><span class="std std-ref">MongoDB ReplSet</span></a></p>
</div>
<div class="section" id="elections">
<span id="dashboard-mongodb-replset-elections"></span><h2><a class="toc-backref" href="#id10"><a class="reference internal" href="#dashboard-mongodb-replset-elections"><span class="std std-ref">Elections</span></a></a><a class="headerlink" href="#elections" title="Permalink to this headline">¶</a></h2>
<p>Elections happen when a primary becomes unavailable. Look at this graph over
longer periods (weeks or months) to determine patterns and correlate elections
with other events.</p>
<p><strong>View all metrics of</strong> <a class="reference internal" href="#dashboard-mongodb-replset"><span class="std std-ref">MongoDB ReplSet</span></a></p>
</div>
<div class="section" id="member-state-uptime">
<span id="dashboard-mongodb-replset-member-state-uptime"></span><h2><a class="toc-backref" href="#id11"><a class="reference internal" href="#dashboard-mongodb-replset-member-state-uptime"><span class="std std-ref">Member State Uptime</span></a></a><a class="headerlink" href="#member-state-uptime" title="Permalink to this headline">¶</a></h2>
<p>This metric shows how long various members were in PRIMARY and SECONDARY roles.</p>
<p><strong>View all metrics of</strong> <a class="reference internal" href="#dashboard-mongodb-replset"><span class="std std-ref">MongoDB ReplSet</span></a></p>
</div>
<div class="section" id="max-heartbeat-time">
<span id="dashboard-mongodb-replset-max-heartbeat-time"></span><h2><a class="toc-backref" href="#id12"><a class="reference internal" href="#dashboard-mongodb-replset-max-heartbeat-time"><span class="std std-ref">Max Heartbeat Time</span></a></a><a class="headerlink" href="#max-heartbeat-time" title="Permalink to this headline">¶</a></h2>
<p>This metric shows the heartbeat return times sent by the current member to other
members in the replica set.</p>
<p>Long heartbeat times can indicate network issues or that the server is too busy.</p>
<p><strong>View all metrics of</strong> <a class="reference internal" href="#dashboard-mongodb-replset"><span class="std std-ref">MongoDB ReplSet</span></a></p>
</div>
<div class="section" id="max-member-ping-time">
<span id="dashboard-mongodb-replset-max-member-ping-time"></span><h2><a class="toc-backref" href="#id13"><a class="reference internal" href="#dashboard-mongodb-replset-max-member-ping-time"><span class="std std-ref">Max Member Ping Time</span></a></a><a class="headerlink" href="#max-member-ping-time" title="Permalink to this headline">¶</a></h2>
<p>This metric can show a correlation with the replication lag value.</p>
<p><strong>View all metrics of</strong> <a class="reference internal" href="#dashboard-mongodb-replset"><span class="std std-ref">MongoDB ReplSet</span></a></p>
</div>
</div>


          </div>
        </div>
    <div class="related row">
      
      <ul class="nav nav-pills">
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="dashboard.mongodb-rocksdb.html" title="MongoDB RocksDB Daskboard"
             >next</a></li>
        <li class="right" >
          <a href="dashboard.mongodb-overview.html" title="MongoDB Overview"
             >previous</a></li>
        <li><a href="../index.html">Percona Monitoring and Management Documentation</a></li>
          <li><a href="../index.metrics-monitor.dashboard.html" >Metrics Monitor Dashboards</a></li> 
      </ul>
    </div>
      </div>
      <div class="sphinxsidebar  col-md-3 col-md-pull-9">
        <div class="sphinxsidebarwrapper">
  
          {@ product_logo @}          

          {@ product_pdf_download @}
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">MongoDB ReplSet</a><ul>
<li><a class="reference internal" href="#replication-operations"><code class="docutils literal"><span class="pre">Replication</span> <span class="pre">Operations</span></code></a></li>
<li><a class="reference internal" href="#replset-state"><code class="docutils literal"><span class="pre">ReplSet</span> <span class="pre">State</span></code></a></li>
<li><a class="reference internal" href="#replset-members"><code class="docutils literal"><span class="pre">ReplSet</span> <span class="pre">Members</span></code></a></li>
<li><a class="reference internal" href="#replset-last-election"><code class="docutils literal"><span class="pre">ReplSet</span> <span class="pre">Last</span> <span class="pre">Election</span></code></a></li>
<li><a class="reference internal" href="#replset-lag"><code class="docutils literal"><span class="pre">ReplSet</span> <span class="pre">Lag</span></code></a></li>
<li><a class="reference internal" href="#storage-engine"><code class="docutils literal"><span class="pre">Storage</span> <span class="pre">Engine</span></code></a></li>
<li><a class="reference internal" href="#oplog-insert-time"><code class="docutils literal"><span class="pre">Oplog</span> <span class="pre">Insert</span> <span class="pre">Time</span></code></a></li>
<li><a class="reference internal" href="#oplog-recovery-window"><code class="docutils literal"><span class="pre">Oplog</span> <span class="pre">Recovery</span> <span class="pre">Window</span></code></a></li>
<li><a class="reference internal" href="#replication-lag"><code class="docutils literal"><span class="pre">Replication</span> <span class="pre">Lag</span></code></a></li>
<li><a class="reference internal" href="#elections"><code class="docutils literal"><span class="pre">Elections</span></code></a></li>
<li><a class="reference internal" href="#member-state-uptime"><code class="docutils literal"><span class="pre">Member</span> <span class="pre">State</span> <span class="pre">Uptime</span></code></a></li>
<li><a class="reference internal" href="#max-heartbeat-time"><code class="docutils literal"><span class="pre">Max</span> <span class="pre">Heartbeat</span> <span class="pre">Time</span></code></a></li>
<li><a class="reference internal" href="#max-member-ping-time"><code class="docutils literal"><span class="pre">Max</span> <span class="pre">Member</span> <span class="pre">Ping</span> <span class="pre">Time</span></code></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="dashboard.mongodb-overview.html"
                        title="previous chapter">MongoDB Overview</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="dashboard.mongodb-rocksdb.html"
                        title="next chapter">MongoDB RocksDB Daskboard</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">jQuery(document).ready(function(){ jQuery('#searchbox').show(0); });</script>
          {@ product_series @}
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <!-- div class="footer">
        &copy; Copyright Percona LLC and/or its affiliates 2009-2019.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.
    </div -->
  </div>
  </body>
