


    <title>Percona Monitoring and Management 1.4.0 &mdash; Percona Monitoring and Management Documentation</title>
    
  <head>
    
    
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Percona Monitoring and Management Documentation" href="../index.html" />
    <link rel="up" title="Percona Monitoring and Management Release Notes" href="index.html" />
    <link rel="next" title="Percona Monitoring and Management 1.3.2" href="1.3.2.html" />
    <link rel="prev" title="Percona Monitoring and Management 1.4.1" href="1.4.1.html" /> 
  </head>
  <body>
    <div class="container">  

    <div class="document row">
      <div class="documentwrapper col-md-9 col-md-push-3">
    <div class="related row">
      
      <ul class="nav nav-pills">
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="1.3.2.html" title="Percona Monitoring and Management 1.3.2"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="1.4.1.html" title="Percona Monitoring and Management 1.4.1"
             accesskey="P">previous</a></li>
        <li><a href="../index.html">Percona Monitoring and Management Documentation</a></li>
          <li><a href="index.html" accesskey="U">Percona Monitoring and Management Release Notes</a></li> 
      </ul>
    </div>
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="percona-monitoring-and-management-release">
<span id="id1"></span><h1>Percona Monitoring and Management 1.4.0<a class="headerlink" href="#percona-monitoring-and-management-release" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Date:</th><td class="field-body">October 20, 2017</td>
</tr>
</tbody>
</table>
<p>Percona announces the release of Percona Monitoring and Management 1.4.0.</p>
<p>This release introduces the support of external Prometheus exporters so that you
can create dashboards in the Metrics monitor even for the monitoring services
other than those provided with PMM client packages. To attach an existing
external Prometheus exporter, run <strong class="command">pmm-admin add external:metrics NAME_OF_EXPORTER
URL:PORT</strong>.</p>
<div class="literal-block-wrapper docutils container" id="example-of-json-output-of-the-pmm-admin-list-json-command-it-also-contains-an-external-monitoring-service-in-the-value-of-the-externalservices-element">
<div class="code-block-caption"><span class="caption-text">Example of JSON output of the <code class="docutils literal"><span class="pre">pmm-admin</span> <span class="pre">list</span> <span class="pre">--json</span></code> command. It also contains an external monitoring service in the value of the <cite>ExternalServices</cite> element.</span><a class="headerlink" href="#example-of-json-output-of-the-pmm-admin-list-json-command-it-also-contains-an-external-monitoring-service-in-the-value-of-the-externalservices-element" title="Permalink to this code">¶</a></div>
<div class="highlight-js"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;Version&quot;</span><span class="o">:</span><span class="s2">&quot;1.4.0&quot;</span><span class="p">,</span>
 <span class="s2">&quot;ServerAddress&quot;</span><span class="o">:</span><span class="s2">&quot;127.0.0.1:80&quot;</span><span class="p">,</span>
 <span class="s2">&quot;ServerSecurity&quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
 <span class="s2">&quot;ClientName&quot;</span><span class="o">:</span><span class="s2">&quot;percona&quot;</span><span class="p">,</span>
 <span class="s2">&quot;ClientAddress&quot;</span><span class="o">:</span><span class="s2">&quot;172.17.0.1&quot;</span><span class="p">,</span>
 <span class="s2">&quot;ClientBindAddress&quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
 <span class="s2">&quot;Platform&quot;</span><span class="o">:</span><span class="s2">&quot;linux-systemd&quot;</span><span class="p">,</span>
 <span class="s2">&quot;Err&quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
 <span class="s2">&quot;Services&quot;</span><span class="o">:</span><span class="p">[{</span><span class="s2">&quot;Type&quot;</span><span class="o">:</span><span class="s2">&quot;linux:metrics&quot;</span><span class="p">,</span><span class="s2">&quot;Name&quot;</span><span class="o">:</span><span class="s2">&quot;percona&quot;</span><span class="p">,</span><span class="s2">&quot;Port&quot;</span><span class="o">:</span><span class="s2">&quot;42000&quot;</span><span class="p">,</span><span class="s2">&quot;Running&quot;</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span><span class="s2">&quot;DSN&quot;</span><span class="o">:</span><span class="s2">&quot;-&quot;</span><span class="p">,</span><span class="s2">&quot;Options&quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;SSL&quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Password&quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">}],</span>
 <span class="s2">&quot;ExternalErr&quot;</span><span class="o">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="hll"> <span class="s2">&quot;ExternalServices&quot;</span><span class="o">:</span><span class="p">[{</span><span class="s2">&quot;JobName&quot;</span><span class="o">:</span><span class="s2">&quot;postgres&quot;</span><span class="p">,</span><span class="s2">&quot;ScrapeInterval&quot;</span><span class="o">:</span><span class="mi">1000000000</span><span class="p">,</span><span class="s2">&quot;ScrapeTimeout&quot;</span><span class="o">:</span><span class="mi">1000000000</span><span class="p">,</span><span class="s2">&quot;MetricsPath&quot;</span><span class="o">:</span><span class="s2">&quot;/metrics&quot;</span><span class="p">,</span><span class="s2">&quot;Scheme&quot;</span><span class="o">:</span><span class="s2">&quot;http&quot;</span><span class="p">,</span><span class="s2">&quot;StaticTargets&quot;</span><span class="o">:</span><span class="p">[</span><span class="s2">&quot;127.0.0.1:5432&quot;</span><span class="p">]}]}</span>
</span></pre></div>
</div>
</div>
<p>The list of attached monitoring services is now available not only in the
tabular format but also as a JSON file to enable automatic verification of your
configuration. To view the list of monitoring services in the JSON format run
<strong class="command">pmm-admin list --json</strong>.</p>
<p>In this release, Prometheus and Grafana have
been upgraded. Prometheus version 1.7.2, shipped with this
release, offers a number of bug fixes that will contribute to its
smooth operation inside PMM. For more information, see <a class="reference external" href="https://github.com/prometheus/prometheus/blob/v1.7.2/CHANGELOG.md#172--2017-09-26">the Prometheus
change log</a>.</p>
<p>Version 4.5.2 of Grafana, included in this release of PMM, offers a
number of new tools that will facilitate data analysis in PMM:</p>
<ul>
<li><p class="first">New <code class="docutils literal"><span class="pre">query</span> <span class="pre">editor</span></code> for Prometheus expressions which features syntax highlighting
and autocompletion for metrics, functions and range vectors.</p>
<a class="reference internal image-reference" href="../_images/metrics-monitor.graph.metrics.1.png"><img alt="../_images/metrics-monitor.graph.metrics.1.png" src="../_images/metrics-monitor.graph.metrics.1.png" style="width: 50%;" /></a>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Query</span> <span class="pre">inspector</span></code> which provides detailed information about the query. The
primary goal of graph inspector is to enable analyzing a graph which does not
display data as expected.</p>
<a class="reference internal image-reference" href="../_images/metrics-monitor.graph.metrics.query-inspector.1.png"><img alt="../_images/metrics-monitor.graph.metrics.query-inspector.1.png" src="../_images/metrics-monitor.graph.metrics.query-inspector.1.png" style="width: 50%;" /></a>
</li>
</ul>
<p>The complete list of new features in <strong class="program">Grafana</strong> 4.5.0 is
available from <a class="reference external" href="http://docs.grafana.org/guides/whats-new-in-v4-5/">What&#8217;s New in Grafana v4.5</a>.</p>
<p>For install and upgrade instructions, see <span class="xref std std-ref">deploy-pmm</span>.</p>
<div class="section" id="new-features">
<h2>New features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://jira.percona.com/browse/PMM-1520">PMM-1520</a>: Prometheus upgraded to version 1.7.2.</li>
<li><a class="reference external" href="https://jira.percona.com/browse/PMM-1521">PMM-1521</a>: Grafana upgraded to version 4.5.2.</li>
<li><a class="reference external" href="https://jira.percona.com/browse/PMM-1091">PMM-1091</a>: The <strong class="command">pmm-admin list</strong> produces a JSON document as
output if the <code class="xref std std-option docutils literal"><span class="pre">--json</span></code> option is supplied.</li>
<li><a class="reference external" href="https://jira.percona.com/browse/PMM-507">PMM-507</a>: <a class="reference internal" href="../manage/client.external.exporters.html#pmm-pmm-admin-external-monitoring-service-adding"><span class="std std-ref">External exporters are supported</span></a> with <strong class="program">pmm-admin</strong>.</li>
<li><a class="reference external" href="https://jira.percona.com/browse/PMM-1622">PMM-1622</a>: <strong class="program">docker</strong> images of PMM Server are
<a class="reference external" href="https://www.percona.com/downloads/pmm/">available for downloading</a> as <strong class="program">tar</strong>
packages.</li>
</ul>
</div>
<div class="section" id="bug-fixes">
<h2>Bug fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://jira.percona.com/browse/PMM-1172">PMM-1172</a>: In some cases, the <code class="docutils literal"><span class="pre">TABLES</span></code> section of a query in
<strong class="program">QAN</strong> could contain no data and display the <em>List of tables is empty</em>
error. The <code class="docutils literal"><span class="pre">Query</span></code> and <code class="docutils literal"><span class="pre">Explain</span></code> sections had the relevant values.</li>
<li><a class="reference external" href="https://jira.percona.com/browse/PMM-1519">PMM-1519</a>: A Prometheus instance could be forced to shut down if it
contained too many targets (more than 50).  When started the next time,
Prometheus initiated a time consuming crash recovery routine which took long
on large installations.</li>
</ul>
</div>
</div>


          </div>
        </div>
    <div class="related row">
      
      <ul class="nav nav-pills">
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="1.3.2.html" title="Percona Monitoring and Management 1.3.2"
             >next</a></li>
        <li class="right" >
          <a href="1.4.1.html" title="Percona Monitoring and Management 1.4.1"
             >previous</a></li>
        <li><a href="../index.html">Percona Monitoring and Management Documentation</a></li>
          <li><a href="index.html" >Percona Monitoring and Management Release Notes</a></li> 
      </ul>
    </div>
      </div>
      <div class="sphinxsidebar  col-md-3 col-md-pull-9">
        <div class="sphinxsidebarwrapper">
  
          {@ product_logo @}          

          {@ product_pdf_download @}
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Percona Monitoring and Management 1.4.0</a><ul>
<li><a class="reference internal" href="#new-features">New features</a></li>
<li><a class="reference internal" href="#bug-fixes">Bug fixes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="1.4.1.html"
                        title="previous chapter">Percona Monitoring and Management 1.4.1</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="1.3.2.html"
                        title="next chapter">Percona Monitoring and Management 1.3.2</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">jQuery(document).ready(function(){ jQuery('#searchbox').show(0); });</script>
          {@ product_series @}
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <!-- div class="footer">
        &copy; Copyright Percona LLC and/or its affiliates 2009-2019.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.
    </div -->
  </div>
  </body>
