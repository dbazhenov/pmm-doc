


    <title>Percona Monitoring and Management 1.0.4 &mdash; Percona Monitoring and Management Documentation</title>
    
  <head>
    
    
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Percona Monitoring and Management Documentation" href="../index.html" />
    <link rel="up" title="Percona Monitoring and Management Release Notes" href="index.html" />
    <link rel="next" title="Percona Monitoring and Management Beta 1.0.3" href="1.0.3.html" />
    <link rel="prev" title="Percona Monitoring and Management 1.0.5" href="1.0.5.html" /> 
  </head>
  <body>
    <div class="container">  

    <div class="document row">
      <div class="documentwrapper col-md-9 col-md-push-3">
    <div class="related row">
      
      <ul class="nav nav-pills">
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="1.0.3.html" title="Percona Monitoring and Management Beta 1.0.3"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="1.0.5.html" title="Percona Monitoring and Management 1.0.5"
             accesskey="P">previous</a></li>
        <li><a href="../index.html">Percona Monitoring and Management Documentation</a></li>
          <li><a href="index.html" accesskey="U">Percona Monitoring and Management Release Notes</a></li> 
      </ul>
    </div>
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="percona-monitoring-and-management-1-0-4">
<span id="id1"></span><h1>Percona Monitoring and Management 1.0.4<a class="headerlink" href="#percona-monitoring-and-management-1-0-4" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Date:</th><td class="field-body">September 13, 2016</td>
</tr>
<tr class="field-even field"><th class="field-name">PMM Server:</th><td class="field-body"><a class="reference external" href="https://hub.docker.com/r/percona/pmm-server/">https://hub.docker.com/r/percona/pmm-server/</a></td>
</tr>
<tr class="field-odd field"><th class="field-name">PMM Client:</th><td class="field-body"><a class="reference external" href="https://www.percona.com/downloads/pmm-client/">https://www.percona.com/downloads/pmm-client/</a></td>
</tr>
</tbody>
</table>
<p>This is the first General Availability (GA) release.</p>
<div class="section" id="upgrading">
<h2>Upgrading<a class="headerlink" href="#upgrading" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This release introduces major changes and requires you to
completely remove any previous versions of all PMM components.
This means you will lose all previously collected data
and start from scratch.</p>
</div>
<ol class="arabic">
<li><p class="first"><span class="xref std std-ref">Remove all PMM Clients</span></p>
</li>
<li><p class="first"><span class="xref std std-ref">Remove PMM Server</span>
(including the <code class="docutils literal"><span class="pre">pmm-data</span></code> container).</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>docker stop pmm-server <span class="o">&amp;&amp;</span> docker rm pmm-server <span class="o">&amp;&amp;</span> docker rm pmm-data
</pre></div>
</div>
</li>
<li><p class="first"><a class="reference internal" href="../install/docker.setting-up.html#data-container"><span class="std std-ref">Create the PMM data container</span></a></p>
</li>
<li><p class="first"><a class="reference internal" href="../install/docker.setting-up.html#server-container"><span class="std std-ref">Create and run the PMM Server container</span></a></p>
</li>
<li><p class="first"><a class="reference internal" href="../install/clients.html#deploy-pmm-client-installing"><span class="std std-ref">Install PMM Clients</span></a> on all your monitored hosts</p>
</li>
</ol>
</div>
<div class="section" id="changes">
<h2>Changes<a class="headerlink" href="#changes" title="Permalink to this headline">¶</a></h2>
<p><strong>PMM Server changes:</strong></p>
<ul class="simple">
<li>Grafana 3.1.1</li>
<li>Prometheus 1.0.2</li>
<li>Added SSL and HTTP password protection support</li>
<li>Removed the extra <code class="docutils literal"><span class="pre">alias</span></code> label for Prometheus</li>
<li>Added <code class="docutils literal"><span class="pre">MongoDB</span> <span class="pre">RocksDB</span></code>, <code class="docutils literal"><span class="pre">PXC/Galera</span> <span class="pre">Cluster</span> <span class="pre">Overview</span></code> dashboards</li>
<li>Introduced some visual amendments to the dashboards</li>
<li>Added ability to save predefined dashboards in place</li>
<li>Query Analytics App:<ul>
<li>Added sparkline charts to metrics</li>
<li>Added search by query fingerprint</li>
<li>Various smaller fixes and improvements</li>
</ul>
</li>
</ul>
<p><strong>PMM Client changes:</strong></p>
<ul class="simple">
<li>Renamed services managed by <code class="docutils literal"><span class="pre">pmm-admin</span></code>:<ul>
<li><code class="docutils literal"><span class="pre">os</span></code> &gt; <code class="docutils literal"><span class="pre">linux:metrics</span></code></li>
<li><code class="docutils literal"><span class="pre">mysql</span></code> &gt; <code class="docutils literal"><span class="pre">mysql:metrics</span></code></li>
<li><code class="docutils literal"><span class="pre">queries</span></code> &gt; <code class="docutils literal"><span class="pre">mysql:queries</span></code></li>
<li><code class="docutils literal"><span class="pre">mongodb</span></code> &gt; <code class="docutils literal"><span class="pre">mongodb:metrics</span></code></li>
</ul>
</li>
<li>Added group commands:<ul>
<li><code class="docutils literal"><span class="pre">pmm-admin</span> <span class="pre">add</span> <span class="pre">mysql</span></code> and <code class="docutils literal"><span class="pre">pmm-admin</span> <span class="pre">rm</span> <span class="pre">mysql</span></code>:
add and remove <code class="docutils literal"><span class="pre">linux:metrics</span></code>, <code class="docutils literal"><span class="pre">mysql:metrics</span></code>,
and <code class="docutils literal"><span class="pre">mysql:queries</span></code> services</li>
<li><code class="docutils literal"><span class="pre">pmm-admin</span> <span class="pre">add</span> <span class="pre">mongodb</span></code> and <code class="docutils literal"><span class="pre">pmm-admin</span> <span class="pre">rm</span> <span class="pre">mongodb</span></code>:
add and remove <code class="docutils literal"><span class="pre">linux:metrics</span></code> and <code class="docutils literal"><span class="pre">mongodb:metrics</span></code> services</li>
</ul>
</li>
<li>Added options to support SSL and HTTP password protection for <em>PMM Server</em></li>
<li>Added check whether the required binaries of exporters are installed.</li>
<li>Changed behaviour of <code class="docutils literal"><span class="pre">--create-user</span></code> flag for adding MySQL instance:<ul>
<li>Now <code class="docutils literal"><span class="pre">pmm-admin</span></code> employs a single <cite>pmm</cite> MySQL user, verifies if it exists,
and stores the generated password in the configuration</li>
<li>Added checks whether MySQL is read-only or a replication slave</li>
<li>Stored credentials are automatically picked up by <code class="docutils literal"><span class="pre">pmm-admin</span></code> when valid</li>
</ul>
</li>
<li>Replaced standard <code class="docutils literal"><span class="pre">mysqld_exporter</span></code> with custom one
(<a class="reference external" href="https://github.com/percona/mysqld_exporter">https://github.com/percona/mysqld_exporter</a>).
This enables <code class="docutils literal"><span class="pre">pmm-admin</span></code> to create a single <code class="docutils literal"><span class="pre">mysql:metrics</span></code> service
instead of three per MySQL instance.</li>
<li>Added check for MongoDB connectivity
when adding <code class="docutils literal"><span class="pre">mongodb:metrics</span></code> instance.</li>
<li>Removed the requirement to specify the name when removing a service
(the client&#8217;s name is used by default)</li>
<li>Allowed to add more than one <code class="docutils literal"><span class="pre">linux:metrics</span></code> instance for testing purpose</li>
<li>Added consistency checks to avoid duplicate services across clients</li>
<li>Implemented automatic client address detection</li>
<li>Improved installation process:
the install script now just copies binaries.
You need to use <code class="docutils literal"><span class="pre">pmm-admin</span> <span class="pre">config</span></code> to add <em>PMM Server</em> address.</li>
<li>Now <code class="docutils literal"><span class="pre">pmm-admin</span></code> does not modify <code class="docutils literal"><span class="pre">linux:metrics</span></code> instance
when adding <code class="docutils literal"><span class="pre">mongodb:metrics</span></code></li>
<li>Table stats are now disabled automatically
if there are more than 10 000 tables</li>
</ul>
</div>
</div>


          </div>
        </div>
    <div class="related row">
      
      <ul class="nav nav-pills">
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="1.0.3.html" title="Percona Monitoring and Management Beta 1.0.3"
             >next</a></li>
        <li class="right" >
          <a href="1.0.5.html" title="Percona Monitoring and Management 1.0.5"
             >previous</a></li>
        <li><a href="../index.html">Percona Monitoring and Management Documentation</a></li>
          <li><a href="index.html" >Percona Monitoring and Management Release Notes</a></li> 
      </ul>
    </div>
      </div>
      <div class="sphinxsidebar  col-md-3 col-md-pull-9">
        <div class="sphinxsidebarwrapper">
  
          {@ product_logo @}          

          {@ product_pdf_download @}
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Percona Monitoring and Management 1.0.4</a><ul>
<li><a class="reference internal" href="#upgrading">Upgrading</a></li>
<li><a class="reference internal" href="#changes">Changes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="1.0.5.html"
                        title="previous chapter">Percona Monitoring and Management 1.0.5</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="1.0.3.html"
                        title="next chapter">Percona Monitoring and Management Beta 1.0.3</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">jQuery(document).ready(function(){ jQuery('#searchbox').show(0); });</script>
          {@ product_series @}
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <!-- div class="footer">
        &copy; Copyright Percona LLC and/or its affiliates 2009-2019.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.
    </div -->
  </div>
  </body>
