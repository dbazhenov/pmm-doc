


    <title>Running PMM Server Using AWS Marketplace &mdash; Percona Monitoring and Management Documentation</title>
    
  <head>
    
    
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Percona Monitoring and Management Documentation" href="../index.html" />
    <link rel="next" title="PMM Server as a Virtual Appliance" href="virtual-appliance.html" />
    <link rel="prev" title="Restoring the Backed Up Information to the PMM Data Container" href="docker.restoring.html" /> 
  </head>
  <body>
    <div class="container">  

    <div class="document row">
      <div class="documentwrapper col-md-9 col-md-push-3">
    <div class="related row">
      
      <ul class="nav nav-pills">
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="virtual-appliance.html" title="PMM Server as a Virtual Appliance"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="docker.restoring.html" title="Restoring the Backed Up Information to the PMM Data Container"
             accesskey="P">previous</a></li>
        <li><a href="../index.html">Percona Monitoring and Management Documentation</a></li> 
      </ul>
    </div>
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="running-pmm-server-using-aws-marketplace">
<span id="run-server-ami"></span><h1>Running PMM Server Using AWS Marketplace<a class="headerlink" href="#running-pmm-server-using-aws-marketplace" title="Permalink to this headline">¶</a></h1>
<p>You can run an instance of PMM Server hosted at AWS Marketplace. This
method replaces the outdated method where you would have to accessing
an AMI (Amazon Machine Image) by using its ID, different for each region.</p>
<div class="figure" id="id1">
<img alt="../_images/aws-marketplace.pmm.home-page.1.png" src="../_images/aws-marketplace.pmm.home-page.1.png" />
<p class="caption"><span class="caption-text">The home page of PMM in AWS Marketplace.</span></p>
</div>
<p>Assuming that you have an AWS (Amazon Web Services) account, locate
<em>Percona Monitoring and Management Server</em> in <a class="reference external" href="https://aws.amazon.com/marketplace/pp/B077J7FYGX">AWS Marketplace</a>.</p>
<p>The <span class="guilabel">Pricing Information</span> section allows to select your region and choose an
instance type in the table that shows the pricing for the software and
infrastructure hosted in the region you have selected (the recommended
EC2 instance type is preselected for you). Note that actual choice will be done
later, and this table serves the information purposes, to plan costs.</p>
<div class="figure" id="id2">
<img alt="../_images/aws-marketplace.pmm.home-page.2.png" src="../_images/aws-marketplace.pmm.home-page.2.png" />
<p class="caption"><span class="caption-text">As soon as you select your region, you can choose the EC2 instance in it and
see its price. PMM comes for no cost, you may only need to pay for the
infrastructure provided by Amazon.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Disk space consumed by PMM Server depends on the number of hosts under
monitoring. Each environment will be unique, however consider modeling your data consumption based on <a class="reference external" href="https://pmmdemo.percona.com/">PMM Demo</a> web site, which consumes ~230MB/host/day, or ~6.9GB/host at the default 30 day retention period. See <a class="reference external" href="https://www.percona.com/blog/2017/05/04/how-much-disk-space-should-i-allocate-for-percona-monitoring-and-management/">this blog post</a> for more details.</p>
</div>
<p>Clicking the <span class="guilabel">Continue to Subscribe</span> button will proceed to the terms and
conditions page. Clicking <span class="guilabel">Continue to Configuration</span> there will bring a
new page to start setting up your instance.</p>
<div class="figure" id="id3">
<img alt="../_images/aws-marketplace.pmm.launch-on-ec2.1-click-launch.0.png" src="../_images/aws-marketplace.pmm.launch-on-ec2.1-click-launch.0.png" />
<p class="caption"><span class="caption-text">Percona Monitoring and Management on AWS Marketplace - launch options.</span></p>
</div>
<p>Available launch options in the drop-down menu include <em>Launch from Website</em> and
<em>Launch through EC2</em>. The first one is a quick way to make your instance ready.
For more control, use the Manual Launch through EC2 option.</p>
<p>In this chapter</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#setting-up-a-pmm-instance-using-the-website-gui" id="id14"><a class="reference internal" href="#run-server-ami-pmm-instance-1-click-launch-option-setting-up"><span class="std std-ref">Setting Up a PMM Instance Using the website GUI</span></a></a></li>
<li><a class="reference internal" href="#running-pmm-server-using-amazon-machine-images" id="id15"><a class="reference internal" href="#run-server-ami-amazon-machine-image"><span class="std std-ref">Running PMM Server Using Amazon Machine Images</span></a></a></li>
<li><a class="reference internal" href="#upgrading-pmm-server" id="id16"><a class="reference internal" href="#upgrade-pmm-server"><span class="std std-ref">Upgrading PMM Server</span></a></a></li>
</ul>
</div>
<div class="section" id="setting-up-a-pmm-instance-using-the-website-gui">
<span id="run-server-ami-pmm-instance-1-click-launch-option-setting-up"></span><h2><a class="toc-backref" href="#id14"><a class="reference internal" href="#run-server-ami-pmm-instance-1-click-launch-option-setting-up"><span class="std std-ref">Setting Up a PMM Instance Using the website GUI</span></a></a><a class="headerlink" href="#setting-up-a-pmm-instance-using-the-website-gui" title="Permalink to this headline">¶</a></h2>
<p>Choose <em>Launch from Website</em> option, your region, and the EC2 instance type on
the launch options page. On the previous screenshot, we use the
<code class="xref std std-option docutils literal"><span class="pre">US</span> <span class="pre">East</span> <span class="pre">(N.</span> <span class="pre">Virginia)</span></code> region and the <span class="guilabel">EC2 Instance Type</span> named
<code class="xref std std-option docutils literal"><span class="pre">m4.large</span></code>. To reduce cost, you need to choose the region closest to
your location.</p>
<p>When all choices are done, click the <span class="guilabel">Continue to Launch</span> button to proceed.</p>
<div class="section" id="setting-up-a-vpc-and-an-ec2-instance-type">
<span id="run-server-ami-pmm-instance-1-click-launch-option-vpc-ec2-instance-type"></span><h3><a class="reference internal" href="#run-server-ami-pmm-instance-1-click-launch-option-vpc-ec2-instance-type"><span class="std std-ref">Setting up a VPC and an EC2 Instance Type</span></a><a class="headerlink" href="#setting-up-a-vpc-and-an-ec2-instance-type" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>In this demonstration, we use the VPC (virtual private cloud) named</div></blockquote>
<p><code class="xref std std-option docutils literal"><span class="pre">vpc-484bb12f</span></code>. The exact name of VPC may be different from the example
discussed here.</p>
<div class="figure" id="id4">
<span id="figure-run-server-ami-aws-marketplace-pmm-launch-on-ec2-1-click-launch-vpc-ec2-instance-type"></span><img alt="../_images/aws-marketplace.pmm.launch-on-ec2.1-click-launch.1.png" src="../_images/aws-marketplace.pmm.launch-on-ec2.1-click-launch.1.png" />
<p class="caption"><span class="caption-text">Select VPC in the VPC Settings section.</span></p>
</div>
<p>Instead of a VPC (virtual private cloud) you may choose the <code class="xref std std-option docutils literal"><span class="pre">EC2</span> <span class="pre">Classic</span>
<span class="pre">(no</span> <span class="pre">VPC)</span></code> option and use a public cloud.</p>
<p>Selecting a subnet, you effectively choose an availability zone in the selected
region. We recommend that you choose the availability zone where your RDS is
located.</p>
<p>Note that the cost estimation is automatically updated based on your choice.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt>AWS Documentation: Availability zones</dt>
<dd><a class="reference external" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html">https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html</a></dd>
</dl>
</div>
</div>
<div class="section" id="limiting-access-to-the-instance-security-group-and-a-key-pair">
<span id="run-server-ami-security-group-key-pair"></span><h3><a class="reference internal" href="#run-server-ami-security-group-key-pair"><span class="std std-ref">Limiting Access to the instance: security group and a key pair</span></a><a class="headerlink" href="#limiting-access-to-the-instance-security-group-and-a-key-pair" title="Permalink to this headline">¶</a></h3>
<p>In the <span class="guilabel">Security Group</span> section, which acts like a firewall, you may use the
preselected option <code class="xref std std-option docutils literal"><span class="pre">Create</span> <span class="pre">new</span> <span class="pre">based</span> <span class="pre">on</span> <span class="pre">seller</span> <span class="pre">settings</span></code> to create a
security group with recommended settings. In the <span class="guilabel">Key Pair</span> select an
already set up EC2 key pair to limit access to your instance.</p>
<div class="figure" id="id5">
<span id="figure-run-server-ami-aws-marketplace-pmm-launch-on-ec2-1-click-launch-key-pair-selecting"></span><img alt="../_images/aws-marketplace.pmm.launch-on-ec2.1-click-launch.3.png" src="../_images/aws-marketplace.pmm.launch-on-ec2.1-click-launch.3.png" />
<p class="caption"><span class="caption-text">Select an already existing key pair (use the EC2 console to create one if necessary)</span></p>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">It is important that the security group allow communication via the the <a class="reference internal" href="../glossary.terminology.html#ports"><span class="std std-ref">following ports</span></a>: <em>22</em>, <em>80</em>, and <em>443</em>. PMM should also be able to access port <em>3306</em> on
the RDS that uses the instance.</p>
</div>
<div class="figure" id="id6">
<span id="figure-run-server-ami-aws-marketplace-pmm-launch-on-ec2-1-click-launch-security-group-selecting"></span><img alt="../_images/aws-marketplace.pmm.launch-on-ec2.1-click-launch.2.png" src="../_images/aws-marketplace.pmm.launch-on-ec2.1-click-launch.2.png" />
<p class="caption"><span class="caption-text">Select a security group which manages firewall settings.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt>Amazon Documentation: Security groups</dt>
<dd><a class="reference external" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-network-security.html">https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-network-security.html</a></dd>
<dt>Amazon Documentation: Key pairs</dt>
<dd><a class="reference external" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html">https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html</a></dd>
<dt>Amazon Documentation: Importing your own public key to Amazon EC2</dt>
<dd><a class="reference external" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html#how-to-generate-your-own-key-and-import-it-to-aws">https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html#how-to-generate-your-own-key-and-import-it-to-aws</a></dd>
</dl>
</div>
</div>
<div class="section" id="applying-settings">
<span id="run-server-ami-setting-applying"></span><h3><a class="reference internal" href="#run-server-ami-setting-applying"><span class="std std-ref">Applying settings</span></a><a class="headerlink" href="#applying-settings" title="Permalink to this headline">¶</a></h3>
<p>Scroll up to the top of the page to view your settings. Then, click the
<span class="guilabel">Launch with 1 click</span> button to continue and adjust your settings in
the <strong class="program">EC2 console</strong>.</p>
<div class="figure" id="id7">
<span id="figure-run-server-ami-aws-marketplace-pmm-launch-on-ec2-1-click-launch"></span><img alt="../_images/aws-marketplace.pmm.launch-on-ec2.1-click-launch.3.png" src="../_images/aws-marketplace.pmm.launch-on-ec2.1-click-launch.3.png" />
<p class="caption"><span class="caption-text">Your instance settings are summarized in a special area. Click
the Launch with 1 click button to continue.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <span class="guilabel">Launch with 1 click</span> button may alternatively be titled
as <span class="guilabel">Accept Software Terms &amp; Launch with 1-Click</span>.</p>
</div>
</div>
<div class="section" id="adjusting-instance-settings-in-the-ec2-console">
<span id="pmm-ami-instance-setting-ec2-console-adjusting"></span><h3><a class="reference internal" href="#pmm-ami-instance-setting-ec2-console-adjusting"><span class="std std-ref">Adjusting instance settings in the EC2 Console</span></a><a class="headerlink" href="#adjusting-instance-settings-in-the-ec2-console" title="Permalink to this headline">¶</a></h3>
<p>Your clicking the <span class="guilabel">Launch with 1 click</span> button, deploys your
instance. To continue setting up your instance, run the <strong class="program">EC2
console</strong>. It is available as a link at the top of the page that opens after you
click the <span class="guilabel">Launch with 1 click</span> button.</p>
<p>Your instance appears in the <strong class="program">EC2 console</strong> in a table that lists all
instances available to you. When a new instance is only created, it has no
name. Make sure that you give it a name to distinguish from other instances
managed via the <strong class="program">EC2 console</strong>.</p>
<div class="figure" id="id8">
<span id="figure-run-server-ami-aws-marketplace-ec2-console-pmm"></span><img alt="../_images/aws-marketplace.ec2-console.pmm.1.png" src="../_images/aws-marketplace.ec2-console.pmm.1.png" />
<p class="caption"><span class="caption-text">The newly created instance selected.</span></p>
</div>
</div>
<div class="section" id="running-the-instance">
<span id="pmm-server-ami-running-instance"></span><h3><a class="reference internal" href="#pmm-server-ami-running-instance"><span class="std std-ref">Running the instance</span></a><a class="headerlink" href="#running-the-instance" title="Permalink to this headline">¶</a></h3>
<p>After you add your new instance it will take some time to initialize it. When
the AWS console reports that the instance is now in a running state, you many
continue with configuration of PMM Server.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>When started the next time after rebooting, your instance may acquire another
IP address. You may choose to set up an elastic IP to avoid this problem.</p>
<div class="last admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt>Amazon Documentation: Elastic IP Addresses</dt>
<dd><a class="reference external" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html</a></dd>
</dl>
</div>
</div>
<p>With your instance selected, open its IP address in a web browser. The IP
address appears in the <span class="guilabel">IPv4 Public IP</span> column or as value of the
<span class="guilabel">Public IP</span> field at the top of the <span class="guilabel">Properties</span> panel.</p>
<div class="figure" id="id9">
<span id="figure-run-server-ami-aws-marketplace-pmm-ec2-properties"></span><img alt="../_images/aws-marketplace.pmm.ec2.properties.png" src="../_images/aws-marketplace.pmm.ec2.properties.png" />
<p class="caption"><span class="caption-text">The public IP address of the instance</span></p>
</div>
<p>To run the instance, copy and paste its public IP address to the location bar of
your browser. In the <em>Percona Monitoring and Management</em> welcome page that opens, enter the instance ID.</p>
<div class="figure" id="id10">
<span id="figure-run-server-ami-installation-wizard-ami-instance-id-verification"></span><img alt="../_images/installation-wizard.ami.instance-id-verification.png" src="../_images/installation-wizard.ami.instance-id-verification.png" />
<p class="caption"><span class="caption-text">Entering the instance ID when installing PMM Server</span></p>
</div>
<p>You can copy the instance ID from the <span class="guilabel">Properties</span> panel of your
instance, select the <span class="guilabel">Description</span> tab back in the <strong class="program">EC2
console</strong>. Click the <span class="guilabel">Copy</span> button next to the <span class="guilabel">Instance
ID</span> field. This button appears as soon as you hover the cursor of your mouse
over the ID.</p>
<div class="figure" id="id11">
<span id="figure-run-server-ami-aws-marketplace-pmm-ec2-properties-instance-id"></span><img alt="../_images/aws-marketplace.pmm.ec2.properties.instance-id.png" src="../_images/aws-marketplace.pmm.ec2.properties.instance-id.png" />
<p class="caption"><span class="caption-text">Hover the cursor over the instance ID for the Copy button to appear.</span></p>
</div>
<p>Paste the instance in the <span class="guilabel">Instance ID</span> field of the <em>Percona Monitoring and Management</em>
welcome page and click <span class="guilabel">Submit</span>.</p>
<p>Click <span class="guilabel">Submit</span> and enter your user name and password in the dialog window
that pops up. The PMM Server is now ready and the home page opens.</p>
<div class="figure" id="id12">
<span id="figure-run-server-ami-installation-wizard-ami-account-credentials"></span><img alt="../_images/installation-wizard.ami.account-credentials.png" src="../_images/installation-wizard.ami.account-credentials.png" />
<p class="caption"><span class="caption-text">Create credentials for your instance.</span></p>
</div>
<p>Click <span class="guilabel">Submit</span> and enter your user name and password in the dialog window
that pops up. The PMM Server is now ready and the home page opens.</p>
<div class="figure" id="id13">
<span id="figure-run-server-ami-pmm-server-home-page"></span><img alt="../_images/pmm.home-page.png" src="../_images/pmm.home-page.png" />
<p class="caption"><span class="caption-text">PMM Server home page</span></p>
</div>
<p>You are creating a username and password that will be used for two purposes:</p>
<ol class="arabic">
<li><p class="first">authentication as a user to PMM - this will be the credentials you need in order
to log in to PMM.</p>
</li>
<li><p class="first">authentication between PMM Server and PMM Clients - you will
re-use these credentials when configuring pmm-client for the first time on a
server, for example:</p>
<p>Run this command as root or by using the <strong class="program">sudo</strong> command</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>$ pmm-admin config --username<span class="o">=</span> --password<span class="o">=</span> --server<span class="o">=</span><span class="m">1</span>.2.3.4
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Accessing the instance by using an SSH client.</strong></p>
<p>For instructions about how to access your instances by using an SSH client, see
<a class="reference external" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html">Connecting to Your Linux Instance Using SSH</a></p>
<p class="last">Make sure to replace the user name <code class="docutils literal"><span class="pre">ec2-user</span></code> used in this document with
<code class="docutils literal"><span class="pre">admin</span></code>.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt>How to verify that the PMM Server is running properly?</dt>
<dd><span class="xref std std-ref">deploy-pmm.server.verifying</span></dd>
<dt>How to connect a PMM Client to the PMM Server?</dt>
<dd><a class="reference internal" href="clients.connecting.html#deploy-pmm-client-server-connecting"><span class="std std-ref">Connecting PMM Clients to the PMM Server</span></a></dd>
</dl>
</div>
</div>
<div class="section" id="resizing-the-ebs-volume">
<span id="run-server-ami-ebs-volume-resizing"></span><h3><a class="reference internal" href="#run-server-ami-ebs-volume-resizing"><span class="std std-ref">Resizing the EBS Volume</span></a><a class="headerlink" href="#resizing-the-ebs-volume" title="Permalink to this headline">¶</a></h3>
<p>Your instance comes with a predefined size which can become a limitation. To
make more disk space available to your instance, you need to increase the size
of the EBS volume as needed and then your instance will reconfigure itself to
use the new size.</p>
<p>The procedure of resizing EBS volumes is described in the Amazon
documentation: <a class="reference external" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-modify-volume.html">Modifying the Size, IOPS, or Type of an EBS Volume on Linux</a>.</p>
<p>After the EBS volume is updated, PMM Server instance will autodetect changes
in approximately 5 minutes or less and will reconfigure itself for the updated
conditions.</p>
<div class="admonition-more-information-in-aws-documentation admonition">
<p class="first admonition-title">More information in AWS documentation</p>
<dl class="last docutils">
<dt>Elastic IP Addresses</dt>
<dd><a class="reference external" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html</a></dd>
<dt>Amazon EC2 Security Groups for Linux Instances</dt>
<dd><a class="reference external" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-network-security.html">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-network-security.html</a></dd>
<dt>Connecting to Your Linux Instance Using SSH (use <code class="docutils literal"><span class="pre">admin</span></code> as the user name)</dt>
<dd><a class="reference external" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html">http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html</a></dd>
</dl>
</div>
</div>
</div>
<div class="section" id="running-pmm-server-using-amazon-machine-images">
<span id="run-server-ami-amazon-machine-image"></span><h2><a class="toc-backref" href="#id15"><a class="reference internal" href="#run-server-ami-amazon-machine-image"><span class="std std-ref">Running PMM Server Using Amazon Machine Images</span></a></a><a class="headerlink" href="#running-pmm-server-using-amazon-machine-images" title="Permalink to this headline">¶</a></h2>
<p>Percona provides public Amazon Machine Images (AMI) with PMM Server
in all regions where Amazon Web Services (AWS) is available.
You can launch an instance using the web console
for the corresponding image:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Region</th>
<th class="head">String</th>
<th class="head">AMI ID</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Asia Pacific (Tokyo)</td>
<td><strong>ap-northeast-1</strong></td>
<td><a class="reference external" href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-081b63c019880c9d6">ami-081b63c019880c9d6</a></td>
</tr>
<tr class="row-odd"><td>Asia Pacific (Seoul)</td>
<td><strong>ap-northeast-2</strong></td>
<td><a class="reference external" href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0299fd006902387fb">ami-0299fd006902387fb</a></td>
</tr>
<tr class="row-even"><td>Asia Pacific (Mumbai)</td>
<td><strong>ap-south-1</strong></td>
<td><a class="reference external" href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0ae6d88793bfd1c25">ami-0ae6d88793bfd1c25</a></td>
</tr>
<tr class="row-odd"><td>Asia Pacific (Singapore)</td>
<td><strong>ap-southeast-1</strong></td>
<td><a class="reference external" href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0b75d0daff534821b">ami-0b75d0daff534821b</a></td>
</tr>
<tr class="row-even"><td>Asia Pacific (Sydney)</td>
<td><strong>ap-southeast-2</strong></td>
<td><a class="reference external" href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-066240e0e538a2d5b">ami-066240e0e538a2d5b</a></td>
</tr>
<tr class="row-odd"><td>Canada (Central)</td>
<td><strong>ca-central-1</strong></td>
<td><a class="reference external" href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-043636fe79bd57dcf">ami-043636fe79bd57dcf</a></td>
</tr>
<tr class="row-even"><td>EU (Frankfurt)</td>
<td><strong>eu-central-1</strong></td>
<td><a class="reference external" href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0f11e38faf1e13b95">ami-0f11e38faf1e13b95</a></td>
</tr>
<tr class="row-odd"><td>EU (Ireland)</td>
<td><strong>eu-west-1</strong></td>
<td><a class="reference external" href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-01144c4acc8b6e1f2">ami-01144c4acc8b6e1f2</a></td>
</tr>
<tr class="row-even"><td>EU (London)</td>
<td><strong>eu-west-2</strong></td>
<td><a class="reference external" href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0f83e56754f334842">ami-0f83e56754f334842</a></td>
</tr>
<tr class="row-odd"><td>EU (Paris)</td>
<td><strong>eu-west-3</strong></td>
<td><a class="reference external" href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0c969dd2dc2bd59da">ami-0c969dd2dc2bd59da</a></td>
</tr>
<tr class="row-even"><td>South America (São Paulo)</td>
<td><strong>sa-east-1</strong></td>
<td><a class="reference external" href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0e4a9988906825cdf">ami-0e4a9988906825cdf</a></td>
</tr>
<tr class="row-odd"><td>US East (N. Virginia)</td>
<td><strong>us-east-1</strong></td>
<td><a class="reference external" href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0c0b294064bea85d0">ami-0c0b294064bea85d0</a></td>
</tr>
<tr class="row-even"><td>US East (Ohio)</td>
<td><strong>us-east-2</strong></td>
<td><a class="reference external" href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0125f42891b1de6e0">ami-0125f42891b1de6e0</a></td>
</tr>
<tr class="row-odd"><td>US West (N. California)</td>
<td><strong>us-west-1</strong></td>
<td><a class="reference external" href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0284d9d12f7fe0959">ami-0284d9d12f7fe0959</a></td>
</tr>
<tr class="row-even"><td>US West (Oregon)</td>
<td><strong>us-west-2</strong></td>
<td><a class="reference external" href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-036f591241f108627">ami-036f591241f108627</a></td>
</tr>
</tbody>
</table>
<div class="section" id="running-from-command-line">
<span id="run-server-ami-command-line"></span><h3><a class="reference internal" href="#run-server-ami-command-line"><span class="std std-ref">Running from Command Line</span></a><a class="headerlink" href="#running-from-command-line" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Launch the PMM Server instance using the <code class="docutils literal"><span class="pre">run-instances</span></code> command
for the corresponding region and image.
For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>aws ec2 run-instances <span class="se">\</span>
   --image-id ami-30ad0f4d <span class="se">\</span>
   --security-group-ids sg-3b6e5e46 <span class="se">\</span>
   --instance-type t2.micro <span class="se">\</span>
   --subnet-id subnet-4765a930 <span class="se">\</span>
   --region us-east-1 <span class="se">\</span>
   --key-name SSH-KEYNAME
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Providing the public SSH key is optional.
Specify it if you want SSH access to PMM Server.</p>
</div>
</li>
<li><p class="first">Set a name for the instance using the <code class="docutils literal"><span class="pre">create-tags</span></code> command.
For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>aws ec2 create-tags  <span class="se">\</span>
   --resources i-XXXX-INSTANCE-ID-XXXX <span class="se">\</span>
   --region us-east-1 <span class="se">\</span>
   --tags <span class="nv">Key</span><span class="o">=</span>Name,Value<span class="o">=</span>OWNER_NAME-pmm
</pre></div>
</div>
</li>
<li><p class="first">Get the IP address for accessing PMM Server from console output
using the <code class="docutils literal"><span class="pre">get-console-output</span></code> command.
For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>aws ec2 get-console-output <span class="se">\</span>
   --instance-id i-XXXX-INSTANCE-ID-XXXX <span class="se">\</span>
   --region us-east-1 <span class="se">\</span>
   --output text <span class="se">\</span>
   <span class="p">|</span> grep cloud-init
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="upgrading-pmm-server">
<span id="upgrade-pmm-server"></span><h2><a class="toc-backref" href="#id16"><a class="reference internal" href="#upgrade-pmm-server"><span class="std std-ref">Upgrading PMM Server</span></a></a><a class="headerlink" href="#upgrading-pmm-server" title="Permalink to this headline">¶</a></h2>
<div class="section" id="upgrading-ec2-instance-class">
<span id="upgrade-ec2-instance-class"></span><h3><a class="reference internal" href="#upgrade-ec2-instance-class"><span class="std std-ref">Upgrading EC2 instance class</span></a><a class="headerlink" href="#upgrading-ec2-instance-class" title="Permalink to this headline">¶</a></h3>
<p>Upgrading to a larger EC2 instance class is supported by PMM provided you follow
the instructions from the <a class="reference external" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html">AWS manual</a>.
The PMM AMI image uses a distinct EBS volume for the PMM data volume which
permits independent resize of the EC2 instance without impacting the EBS volume.</p>
</div>
<div class="section" id="expanding-the-pmm-data-ebs-volume">
<span id="expand-pmm-data-volume"></span><h3><a class="reference internal" href="#expand-pmm-data-volume"><span class="std std-ref">Expanding the PMM Data EBS Volume</span></a><a class="headerlink" href="#expanding-the-pmm-data-ebs-volume" title="Permalink to this headline">¶</a></h3>
<p>The PMM data volume is mounted as an XFS formatted volume on top of an LVM
volume. There are two ways to increase this volume size:</p>
<ol class="arabic simple">
<li>Add a new disk via EC2 console or API, and expand the LVM volume to include
the new disk volume.</li>
<li>Expand existing EBS volume and grow the LVM volume.</li>
</ol>
<div class="section" id="expand-existing-ebs-volume">
<h4>Expand existing EBS volume<a class="headerlink" href="#expand-existing-ebs-volume" title="Permalink to this headline">¶</a></h4>
<p>To expand the existing EBS volume in order to increase capacity, the following
steps should be followed.</p>
<ol class="arabic">
<li><p class="first">Expand the disk from AWS Console/CLI to the desired capacity.</p>
</li>
<li><p class="first">Login to the PMM EC2 instance and verify that the disk capacity has
increased. For example, if you have expanded disk from 16G to 32G, <code class="docutils literal"><span class="pre">dmesg</span></code>
output should look like below:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span>  <span class="mf">535.994494</span><span class="p">]</span> <span class="n">xvdb</span><span class="p">:</span> <span class="n">detected</span> <span class="n">capacity</span> <span class="n">change</span> <span class="kn">from</span> <span class="mi">17179869184</span> <span class="n">to</span> <span class="mi">34359738368</span>
</pre></div>
</div>
</li>
<li><p class="first">You can check information about volume groups and logical volumes with the
<code class="docutils literal"><span class="pre">vgs</span></code> and <code class="docutils literal"><span class="pre">lvs</span></code> commands:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">root</span><span class="nd">@ip</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="mi">70</span> <span class="o">~</span><span class="p">]</span><span class="c1"># vgs</span>
 <span class="n">VG</span>     <span class="c1">#PV #LV #SN Attr   VSize  VFree</span>
 <span class="n">DataVG</span>   <span class="mi">1</span>   <span class="mi">2</span>   <span class="mi">0</span> <span class="n">wz</span><span class="o">--</span><span class="n">n</span><span class="o">-</span> <span class="o">&lt;</span><span class="mf">16.00</span><span class="n">g</span>    <span class="mi">0</span>

<span class="p">[</span><span class="n">root</span><span class="nd">@ip</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="mi">70</span> <span class="o">~</span><span class="p">]</span><span class="c1"># lvs</span>
 <span class="n">LV</span>       <span class="n">VG</span>     <span class="n">Attr</span>       <span class="n">LSize</span>   <span class="n">Pool</span> <span class="n">Origin</span> <span class="n">Data</span><span class="o">%</span>  <span class="n">Meta</span><span class="o">%</span> <span class="n">Move</span> <span class="n">Log</span> <span class="n">Cpy</span><span class="o">%</span><span class="n">Sync</span> <span class="n">Convert</span>
 <span class="n">DataLV</span>   <span class="n">DataVG</span> <span class="n">Vwi</span><span class="o">-</span><span class="n">aotz</span><span class="o">--</span> <span class="o">&lt;</span><span class="mf">12.80</span><span class="n">g</span> <span class="n">ThinPool</span>        <span class="mf">1.74</span>
 <span class="n">ThinPool</span> <span class="n">DataVG</span> <span class="n">twi</span><span class="o">-</span><span class="n">aotz</span><span class="o">--</span>  <span class="mf">15.96</span><span class="n">g</span> <span class="mf">1.39</span>  <span class="mf">1.29</span>
</pre></div>
</div>
</li>
<li><p class="first">Now we can use the <code class="docutils literal"><span class="pre">lsblk</span></code> command to see that our disk size has been
identified by the kernel correctly, but LVM2 is not yet aware of the new size.
We can use <code class="docutils literal"><span class="pre">pvresize</span></code> to make sure the PV device reflects the new size.
Once <code class="docutils literal"><span class="pre">pvresize</span></code> is executed, we can see that the VG has the new free space
available.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="o">[</span>root@ip-10-1-2-70 ~<span class="o">]</span><span class="c1"># lsblk | grep xvdb</span>
 xvdb                      <span class="m">202</span>:16 <span class="m">0</span> 32G <span class="m">0</span> disk

<span class="o">[</span>root@ip-10-1-2-70 ~<span class="o">]</span><span class="c1"># pvscan</span>
 PV /dev/xvdb   VG DataVG    lvm2 <span class="o">[</span>&lt;<span class="m">16</span>.00 GiB / <span class="m">0</span>    free<span class="o">]</span>
 Total: <span class="m">1</span> <span class="o">[</span>&lt;<span class="m">16</span>.00 GiB<span class="o">]</span> / in use: <span class="m">1</span> <span class="o">[</span>&lt;<span class="m">16</span>.00 GiB<span class="o">]</span> / in no VG: <span class="m">0</span> <span class="o">[</span><span class="m">0</span>   <span class="o">]</span>

<span class="o">[</span>root@ip-10-1-2-70 ~<span class="o">]</span><span class="c1"># pvresize /dev/xvdb</span>
 Physical volume <span class="s2">&quot;/dev/xvdb&quot;</span> changed
 <span class="m">1</span> physical volume<span class="o">(</span>s<span class="o">)</span> resized / <span class="m">0</span> physical volume<span class="o">(</span>s<span class="o">)</span> not resized

<span class="o">[</span>root@ip-10-1-2-70 ~<span class="o">]</span><span class="c1"># pvs</span>
 PV         VG     Fmt  Attr PSize   PFree
 /dev/xvdb  DataVG lvm2 a--  &lt;<span class="m">32</span>.00g <span class="m">16</span>.00g
</pre></div>
</div>
</li>
<li><p class="first">We then extend our logical volume. Since the PMM image uses thin
provisioning, we need to extend both the pool and the volume:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">root</span><span class="nd">@ip</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="mi">70</span> <span class="o">~</span><span class="p">]</span><span class="c1"># lvs</span>
 <span class="n">LV</span>       <span class="n">VG</span>     <span class="n">Attr</span>       <span class="n">LSize</span>   <span class="n">Pool</span>    <span class="n">Origin</span> <span class="n">Data</span><span class="o">%</span>  <span class="n">Meta</span><span class="o">%</span> <span class="n">Move</span> <span class="n">Log</span> <span class="n">Cpy</span><span class="o">%</span><span class="n">Sync</span> <span class="n">Convert</span>
 <span class="n">DataLV</span>   <span class="n">DataVG</span> <span class="n">Vwi</span><span class="o">-</span><span class="n">aotz</span><span class="o">--</span> <span class="o">&lt;</span><span class="mf">12.80</span><span class="n">g</span> <span class="n">ThinPool</span>        <span class="mf">1.77</span>
 <span class="n">ThinPool</span> <span class="n">DataVG</span> <span class="n">twi</span><span class="o">-</span><span class="n">aotz</span><span class="o">--</span>  <span class="mf">15.96</span><span class="n">g</span>                 <span class="mf">1.42</span>   <span class="mf">1.32</span>

<span class="p">[</span><span class="n">root</span><span class="nd">@ip</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="mi">70</span> <span class="o">~</span><span class="p">]</span><span class="c1"># lvextend /dev/mapper/DataVG-ThinPool -l 100%VG</span>
 <span class="n">Size</span> <span class="n">of</span> <span class="n">logical</span> <span class="n">volume</span> <span class="n">DataVG</span><span class="o">/</span><span class="n">ThinPool_tdata</span> <span class="n">changed</span> <span class="kn">from</span> <span class="mf">16.00</span> <span class="n">GiB</span> <span class="p">(</span><span class="mi">4096</span> <span class="n">extents</span><span class="p">)</span> <span class="n">to</span> <span class="mf">31.96</span> <span class="n">GiB</span> <span class="p">(</span><span class="mi">8183</span> <span class="n">extents</span><span class="p">)</span><span class="o">.</span>
 <span class="n">Logical</span> <span class="n">volume</span> <span class="n">DataVG</span><span class="o">/</span><span class="n">ThinPool_tdata</span> <span class="n">successfully</span> <span class="n">resized</span><span class="o">.</span>

<span class="p">[</span><span class="n">root</span><span class="nd">@ip</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="mi">70</span> <span class="o">~</span><span class="p">]</span><span class="c1"># lvs</span>
 <span class="n">LV</span>       <span class="n">VG</span>     <span class="n">Attr</span>       <span class="n">LSize</span>   <span class="n">Pool</span>    <span class="n">Origin</span> <span class="n">Data</span><span class="o">%</span>  <span class="n">Meta</span><span class="o">%</span> <span class="n">Move</span> <span class="n">Log</span> <span class="n">Cpy</span><span class="o">%</span><span class="n">Sync</span> <span class="n">Convert</span>
 <span class="n">DataLV</span>   <span class="n">DataVG</span> <span class="n">Vwi</span><span class="o">-</span><span class="n">aotz</span><span class="o">--</span> <span class="o">&lt;</span><span class="mf">12.80</span><span class="n">g</span> <span class="n">ThinPool</span>        <span class="mf">1.77</span>
 <span class="n">ThinPool</span> <span class="n">DataVG</span> <span class="n">twi</span><span class="o">-</span><span class="n">aotz</span><span class="o">--</span>  <span class="mf">31.96</span><span class="n">g</span>                 <span class="mf">0.71</span>   <span class="mf">1.71</span>
</pre></div>
</div>
</li>
<li><p class="first">Once the pool and volumes have been extended, we need to now extend the thin
volume to consume the newly available space. In this example we&#8217;ve grown
available space to almost 32GB, and already consumed 12GB, so we&#8217;re extending
an additional 19GB:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="o">[</span>root@ip-10-1-2-70 ~<span class="o">]</span><span class="c1"># lvs</span>
 LV       VG     Attr       LSize   Pool    Origin Data%  Meta% Move Log Cpy%Sync Convert
 DataLV   DataVG Vwi-aotz-- &lt;<span class="m">12</span>.80g ThinPool        <span class="m">1</span>.77
 ThinPool DataVG twi-aotz--  <span class="m">31</span>.96g                 <span class="m">0</span>.71   <span class="m">1</span>.71

<span class="o">[</span>root@ip-10-1-2-70 ~<span class="o">]</span><span class="c1"># lvextend /dev/mapper/DataVG-DataLV -L +19G</span>
 Size of logical volume DataVG/DataLV changed from &lt;<span class="m">12</span>.80 GiB <span class="o">(</span><span class="m">3276</span> extents<span class="o">)</span> to &lt;<span class="m">31</span>.80 GiB <span class="o">(</span><span class="m">8140</span> extents<span class="o">)</span>.
 Logical volume DataVG/DataLV successfully resized.

<span class="o">[</span>root@ip-10-1-2-70 ~<span class="o">]</span><span class="c1"># lvs</span>
 LV       VG     Attr       LSize   Pool    Origin Data%  Meta% Move Log Cpy%Sync Convert
 DataLV   DataVG Vwi-aotz-- &lt;<span class="m">31</span>.80g ThinPool        <span class="m">0</span>.71
 ThinPool DataVG twi-aotz--  <span class="m">31</span>.96g                 <span class="m">0</span>.71   <span class="m">1</span>.71
</pre></div>
</div>
</li>
<li><p class="first">We then expand the XFS filesystem to reflect the new size using
<code class="docutils literal"><span class="pre">xfs_growfs</span></code>, and confirm the filesystem is accurate using the <code class="docutils literal"><span class="pre">df</span></code>
command.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="o">[</span>root@ip-10-1-2-70 ~<span class="o">]</span><span class="c1"># df -h /srv</span>
Filesystem                  Size Used Avail Use% Mounted on
/dev/mapper/DataVG-DataLV    13G 249M   13G   <span class="m">2</span>% /srv

<span class="o">[</span>root@ip-10-1-2-70 ~<span class="o">]</span><span class="c1"># xfs_growfs /srv</span>
meta-data<span class="o">=</span>/dev/mapper/DataVG-DataLV <span class="nv">isize</span><span class="o">=</span><span class="m">512</span>    <span class="nv">agcount</span><span class="o">=</span><span class="m">103</span>, <span class="nv">agsize</span><span class="o">=</span><span class="m">32752</span> <span class="nv">blks</span>
         <span class="o">=</span>                          <span class="nv">sectsz</span><span class="o">=</span><span class="m">512</span>   <span class="nv">attr</span><span class="o">=</span><span class="m">2</span>, <span class="nv">projid32bit</span><span class="o">=</span><span class="nv">1</span>
         <span class="o">=</span>                          <span class="nv">crc</span><span class="o">=</span><span class="m">1</span>        <span class="nv">finobt</span><span class="o">=</span><span class="m">0</span> <span class="nv">spinodes</span><span class="o">=</span><span class="m">0</span>
<span class="nv">data</span>     <span class="o">=</span>                          <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span><span class="m">3354624</span>, <span class="nv">imaxpct</span><span class="o">=</span><span class="nv">25</span>
         <span class="o">=</span>                          <span class="nv">sunit</span><span class="o">=</span><span class="m">16</span>     <span class="nv">swidth</span><span class="o">=</span><span class="m">16</span> blks
<span class="nv">naming</span>   <span class="o">=</span>version <span class="m">2</span>                 <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   ascii-ci<span class="o">=</span><span class="m">0</span> <span class="nv">ftype</span><span class="o">=</span><span class="m">1</span>
<span class="nv">log</span>      <span class="o">=</span>internal                  <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span><span class="m">768</span>, <span class="nv">version</span><span class="o">=</span><span class="nv">2</span>
         <span class="o">=</span>                          <span class="nv">sectsz</span><span class="o">=</span><span class="m">512</span>   <span class="nv">sunit</span><span class="o">=</span><span class="m">16</span> blks, lazy-count<span class="o">=</span><span class="m">1</span>
<span class="nv">realtime</span> <span class="o">=</span>none                      <span class="nv">extsz</span><span class="o">=</span><span class="m">4096</span>   <span class="nv">blocks</span><span class="o">=</span><span class="m">0</span>, <span class="nv">rtextents</span><span class="o">=</span><span class="m">0</span>
data blocks changed from <span class="m">3354624</span> to <span class="m">8335360</span>

<span class="o">[</span>root@ip-10-1-2-70 ~<span class="o">]</span><span class="c1"># df -h /srv</span>
Filesystem                 Size Used Avail Use% Mounted on
/dev/mapper/DataVG-DataLV   32G 254M   32G   <span class="m">1</span>% /srv
</pre></div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>


          </div>
        </div>
    <div class="related row">
      
      <ul class="nav nav-pills">
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="virtual-appliance.html" title="PMM Server as a Virtual Appliance"
             >next</a></li>
        <li class="right" >
          <a href="docker.restoring.html" title="Restoring the Backed Up Information to the PMM Data Container"
             >previous</a></li>
        <li><a href="../index.html">Percona Monitoring and Management Documentation</a></li> 
      </ul>
    </div>
      </div>
      <div class="sphinxsidebar  col-md-3 col-md-pull-9">
        <div class="sphinxsidebarwrapper">
  
          {@ product_logo @}          

          {@ product_pdf_download @}
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Running PMM Server Using AWS Marketplace</a><ul>
<li><a class="reference internal" href="#setting-up-a-pmm-instance-using-the-website-gui"><code class="docutils literal"><span class="pre">Setting</span> <span class="pre">Up</span> <span class="pre">a</span> <span class="pre">PMM</span> <span class="pre">Instance</span> <span class="pre">Using</span> <span class="pre">the</span> <span class="pre">website</span> <span class="pre">GUI</span></code></a><ul>
<li><a class="reference internal" href="#setting-up-a-vpc-and-an-ec2-instance-type"><code class="docutils literal"><span class="pre">Setting</span> <span class="pre">up</span> <span class="pre">a</span> <span class="pre">VPC</span> <span class="pre">and</span> <span class="pre">an</span> <span class="pre">EC2</span> <span class="pre">Instance</span> <span class="pre">Type</span></code></a></li>
<li><a class="reference internal" href="#limiting-access-to-the-instance-security-group-and-a-key-pair"><code class="docutils literal"><span class="pre">Limiting</span> <span class="pre">Access</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">instance:</span> <span class="pre">security</span> <span class="pre">group</span> <span class="pre">and</span> <span class="pre">a</span> <span class="pre">key</span> <span class="pre">pair</span></code></a></li>
<li><a class="reference internal" href="#applying-settings"><code class="docutils literal"><span class="pre">Applying</span> <span class="pre">settings</span></code></a></li>
<li><a class="reference internal" href="#adjusting-instance-settings-in-the-ec2-console"><code class="docutils literal"><span class="pre">Adjusting</span> <span class="pre">instance</span> <span class="pre">settings</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">EC2</span> <span class="pre">Console</span></code></a></li>
<li><a class="reference internal" href="#running-the-instance"><code class="docutils literal"><span class="pre">Running</span> <span class="pre">the</span> <span class="pre">instance</span></code></a></li>
<li><a class="reference internal" href="#resizing-the-ebs-volume"><code class="docutils literal"><span class="pre">Resizing</span> <span class="pre">the</span> <span class="pre">EBS</span> <span class="pre">Volume</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-pmm-server-using-amazon-machine-images"><code class="docutils literal"><span class="pre">Running</span> <span class="pre">PMM</span> <span class="pre">Server</span> <span class="pre">Using</span> <span class="pre">Amazon</span> <span class="pre">Machine</span> <span class="pre">Images</span></code></a><ul>
<li><a class="reference internal" href="#running-from-command-line"><code class="docutils literal"><span class="pre">Running</span> <span class="pre">from</span> <span class="pre">Command</span> <span class="pre">Line</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#upgrading-pmm-server"><code class="docutils literal"><span class="pre">Upgrading</span> <span class="pre">PMM</span> <span class="pre">Server</span></code></a><ul>
<li><a class="reference internal" href="#upgrading-ec2-instance-class"><code class="docutils literal"><span class="pre">Upgrading</span> <span class="pre">EC2</span> <span class="pre">instance</span> <span class="pre">class</span></code></a></li>
<li><a class="reference internal" href="#expanding-the-pmm-data-ebs-volume"><code class="docutils literal"><span class="pre">Expanding</span> <span class="pre">the</span> <span class="pre">PMM</span> <span class="pre">Data</span> <span class="pre">EBS</span> <span class="pre">Volume</span></code></a><ul>
<li><a class="reference internal" href="#expand-existing-ebs-volume">Expand existing EBS volume</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="docker.restoring.html"
                        title="previous chapter">Restoring the Backed Up Information to the PMM Data Container</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="virtual-appliance.html"
                        title="next chapter">PMM Server as a Virtual Appliance</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">jQuery(document).ready(function(){ jQuery('#searchbox').show(0); });</script>
          {@ product_series @}
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <!-- div class="footer">
        &copy; Copyright Percona LLC and/or its affiliates 2009-2019.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.4.
    </div -->
  </div>
  </body>
